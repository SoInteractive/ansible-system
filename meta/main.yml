---
galaxy_info:
  author: Pawel Krupa
  description: Role template
  company: Sointeractive
  license: MIT
  min_ansible_version: 2.2
  platforms:
   - name: EL
     versions:
       - 7
   - name: Ubuntu
     versions:
       - xenial
  galaxy_tags:
   - basics
   - vim
   - entropy
   - system

dependencies:
  - role: dev-sec.os-hardening
    # disabled core dumps don't work with ansible<2.4.0
    os_security_kernel_enable_core_dump: true
    tags: [ 'skip_ansible_lint' ]
    sysctl_overwrite:
      net.core.somaxconn: 1024
      net.ipv4.tcp_max_syn_backlog: 4096
      net.ipv4.tcp_tw_reuse: 1
      net.ipv4.tcp_tw_recycle: 0
  - role: dev-sec.ssh-hardening
    tags: [ 'skip_ansible_lint' ]
    ssh_banner: true
    ssh_host_key_files:
      - '/etc/ssh/ssh_host_rsa_key'
      - '/etc/ssh/ssh_host_ecdsa_key'
      - '/etc/ssh/ssh_host_ed25519_key'
